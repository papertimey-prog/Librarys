(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var L;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(L||(L={}));class U extends Error{constructor(e,n,o){super(e),this.message=e,this.code=n,this.data=o}}const X=t=>{var e,n;return t?.androidBridge?"android":!((n=(e=t?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},Z=t=>{const e=t.CapacitorCustomPlatform||null,n=t.Capacitor||{},o=n.Plugins=n.Plugins||{},r=()=>e!==null?e.name:X(t),s=()=>r()!=="web",i=l=>{const c=d.get(l);return!!(c?.platforms.has(r())||a(l))},a=l=>{var c;return(c=n.PluginHeaders)===null||c===void 0?void 0:c.find(E=>E.name===l)},f=l=>t.console.error(l),d=new Map,b=(l,c={})=>{const E=d.get(l);if(E)return console.warn(`Capacitor plugin "${l}" already registered. Cannot register plugins twice.`),E.proxy;const y=r(),P=a(l);let w;const Y=async()=>(!w&&y in c?w=typeof c[y]=="function"?w=await c[y]():w=c[y]:e!==null&&!w&&"web"in c&&(w=typeof c.web=="function"?w=await c.web():w=c.web),w),J=(h,p)=>{var g,v;if(P){const _=P?.methods.find(m=>p===m.name);if(_)return _.rtype==="promise"?m=>n.nativePromise(l,p.toString(),m):(m,O)=>n.nativeCallback(l,p.toString(),m,O);if(h)return(g=h[p])===null||g===void 0?void 0:g.bind(h)}else{if(h)return(v=h[p])===null||v===void 0?void 0:v.bind(h);throw new U(`"${l}" plugin is not implemented on ${y}`,L.Unimplemented)}},R=h=>{let p;const g=(...v)=>{const _=Y().then(m=>{const O=J(m,h);if(O){const A=O(...v);return p=A?.remove,A}else throw new U(`"${l}.${h}()" is not implemented on ${y}`,L.Unimplemented)});return h==="addListener"&&(_.remove=async()=>p()),_};return g.toString=()=>`${h.toString()}() { [capacitor code] }`,Object.defineProperty(g,"name",{value:h,writable:!1,configurable:!1}),g},H=R("addListener"),B=R("removeListener"),Q=(h,p)=>{const g=H({eventName:h},p),v=async()=>{const m=await g;B({eventName:h,callbackId:m},p)},_=new Promise(m=>g.then(()=>m({remove:v})));return _.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await v()},_},j=new Proxy({},{get(h,p){switch(p){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return P?Q:H;case"removeListener":return B;default:return R(p)}}});return o[l]=j,d.set(l,{name:l,proxy:j,platforms:new Set([...Object.keys(c),...P?[y]:[]])}),j};return n.convertFileSrc||(n.convertFileSrc=l=>l),n.getPlatform=r,n.handleError=f,n.isNativePlatform=s,n.isPluginAvailable=i,n.registerPlugin=b,n.Exception=U,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},ee=t=>t.Capacitor=Z(t),x=ee(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),C=x.registerPlugin;class F{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let o=!1;this.listeners[e]||(this.listeners[e]=[],o=!0),this.listeners[e].push(n);const s=this.windowListeners[e];s&&!s.registered&&this.addWindowListener(s),o&&this.sendRetainedArgumentsForEvent(e);const i=async()=>this.removeListener(e,n);return Promise.resolve({remove:i})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,o){const r=this.listeners[e];if(!r){if(o){let s=this.retainedEventArguments[e];s||(s=[]),s.push(n),this.retainedEventArguments[e]=s}return}r.forEach(s=>s(n))}hasListeners(e){var n;return!!(!((n=this.listeners[e])===null||n===void 0)&&n.length)}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:o=>{this.notifyListeners(n,o)}}}unimplemented(e="not implemented"){return new x.Exception(e,L.Unimplemented)}unavailable(e="not available"){return new x.Exception(e,L.Unavailable)}async removeListener(e,n){const o=this.listeners[e];if(!o)return;const r=o.indexOf(n);this.listeners[e].splice(r,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(o=>{this.notifyListeners(e,o)}))}}const I=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),q=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class te extends F{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(o=>{if(o.length<=0)return;let[r,s]=o.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");r=q(r).trim(),s=q(s).trim(),n[r]=s}),n}async setCookie(e){try{const n=I(e.key),o=I(e.value),r=`; expires=${(e.expires||"").replace("expires=","")}`,s=(e.path||"/").replace("path=",""),i=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${o||""}${r}; path=${s}; ${i};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}C("CapacitorCookies",{web:()=>new te});const ne=async t=>new Promise((e,n)=>{const o=new FileReader;o.onload=()=>{const r=o.result;e(r.indexOf(",")>=0?r.split(",")[1]:r)},o.onerror=r=>n(r),o.readAsDataURL(t)}),re=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(r=>r.toLocaleLowerCase()).reduce((r,s,i)=>(r[s]=t[e[i]],r),{})},se=(t,e=!0)=>t?Object.entries(t).reduce((o,r)=>{const[s,i]=r;let a,f;return Array.isArray(i)?(f="",i.forEach(d=>{a=e?encodeURIComponent(d):d,f+=`${s}=${a}&`}),f.slice(0,-1)):(a=e?encodeURIComponent(i):i,f=`${s}=${a}`),`${o}&${f}`},"").substr(1):null,oe=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),r=re(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(r.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[i,a]of Object.entries(t.data||{}))s.set(i,a);n.body=s.toString()}else if(r.includes("multipart/form-data")||t.data instanceof FormData){const s=new FormData;if(t.data instanceof FormData)t.data.forEach((a,f)=>{s.append(f,a)});else for(const a of Object.keys(t.data))s.append(a,t.data[a]);n.body=s;const i=new Headers(n.headers);i.delete("content-type"),n.headers=i}else(r.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class ie extends F{async request(e){const n=oe(e,e.webFetchExtra),o=se(e.params,e.shouldEncodeUrlParams),r=o?`${e.url}?${o}`:e.url,s=await fetch(r,n),i=s.headers.get("content-type")||"";let{responseType:a="text"}=s.ok?e:{};i.includes("application/json")&&(a="json");let f,d;switch(a){case"arraybuffer":case"blob":d=await s.blob(),f=await ne(d);break;case"json":f=await s.json();break;default:f=await s.text()}const b={};return s.headers.forEach((l,c)=>{b[c]=l}),{data:f,headers:b,status:s.status,url:s.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}C("CapacitorHttp",{web:()=>new ie});var N;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(N||(N={}));var W;(function(t){t.StatusBar="StatusBar",t.NavigationBar="NavigationBar"})(W||(W={}));class ae extends F{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}C("SystemBars",{web:()=>new ae});const ce="modulepreload",le=function(t){return"/"+t},K={},z=function(e,n,o){let r=Promise.resolve();if(n&&n.length>0){let f=function(d){return Promise.all(d.map(b=>Promise.resolve(b).then(l=>({status:"fulfilled",value:l}),l=>({status:"rejected",reason:l}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=i?.nonce||i?.getAttribute("nonce");r=f(n.map(d=>{if(d=le(d),d in K)return;K[d]=!0;const b=d.endsWith(".css"),l=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${l}`))return;const c=document.createElement("link");if(c.rel=b?"stylesheet":ce,b||(c.as="script"),c.crossOrigin="",c.href=d,a&&c.setAttribute("nonce",a),document.head.appendChild(c),b)return new Promise((E,y)=>{c.addEventListener("load",E),c.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};var G;(function(t){t[t.Sunday=1]="Sunday",t[t.Monday=2]="Monday",t[t.Tuesday=3]="Tuesday",t[t.Wednesday=4]="Wednesday",t[t.Thursday=5]="Thursday",t[t.Friday=6]="Friday",t[t.Saturday=7]="Saturday"})(G||(G={}));const T=C("LocalNotifications",{web:()=>z(()=>import("./web-VwT0nXT8.js"),[]).then(t=>new t.LocalNotificationsWeb)});var D;(function(t){t.Heavy="HEAVY",t.Medium="MEDIUM",t.Light="LIGHT"})(D||(D={}));var V;(function(t){t.Success="SUCCESS",t.Warning="WARNING",t.Error="ERROR"})(V||(V={}));const de=C("Haptics",{web:()=>z(()=>import("./web-CVf4fp5N.js"),[]).then(t=>new t.HapticsWeb)}),ue=`
=========================
  ____  _____ ____ _____
 |  _ \\| ____| __ )_   _|
 | | | |  _| |  _ \\ | |
 | |_| | |___| |_) || |
 |____/|_____|____/ |_|
      T R A C K E R
=========================
`;document.body.style.backgroundColor="#0f172a";document.body.style.color="#4ade80";const u={native:{async vibrate(){x.isNativePlatform()&&await de.impact({style:D.Medium}).catch(()=>{})},async notify(t,e){if(!x.isNativePlatform()){alert(`${t}
${e}`);return}(await T.checkPermissions()).display!=="granted"&&await T.requestPermissions(),await T.schedule({notifications:[{title:t,body:e,id:Date.now(),sound:"default"}]})}},db:{_instance:null,async init(){return new Promise(t=>{const e=indexedDB.open("DebtDB",1);e.onupgradeneeded=()=>{const n=e.result;n.objectStoreNames.contains("debts")||n.createObjectStore("debts",{keyPath:"id",autoIncrement:!0})},e.onsuccess=()=>{this._instance=e.result,t()}})},async add(t){this._instance.transaction("debts","readwrite").objectStore("debts").add(t)},async getAll(){return new Promise(t=>{const n=this._instance.transaction("debts","readonly").objectStore("debts").getAll();n.onsuccess=()=>t(n.result)})},async remove(t){this._instance.transaction("debts","readwrite").objectStore("debts").delete(t)}},ui:{_getRoot(){return document.getElementById("app")||document.body},ascii(t){const e=document.createElement("pre");return Object.assign(e.style,{fontFamily:"'Courier New', monospace",fontSize:"10px",lineHeight:"1.2",color:"#4ade80",textAlign:"center",backgroundColor:"#1e293b",padding:"15px",borderRadius:"4px",margin:"10px auto",width:"fit-content",border:"1px solid #334155"}),e.textContent=t,this._getRoot().appendChild(e),e},text(t,e="16px",n="#4ade80"){const o=document.createElement("p");return Object.assign(o.style,{fontFamily:"'Courier New', monospace",fontSize:e,color:n,textAlign:"center"}),o.textContent=t,this._getRoot().appendChild(o),o},input(t,e){const n=document.createElement("input");return n.placeholder=`> ${t.toUpperCase()}`,Object.assign(n.style,{width:"90%",maxWidth:"350px",padding:"14px",margin:"8px auto",borderRadius:"0px",border:"1px solid #4ade80",display:"block",fontSize:"16px",fontFamily:"'Courier New', monospace",backgroundColor:"#0f172a",color:"#4ade80",outline:"none"}),n.oninput=()=>{e.value=n.value},this._getRoot().appendChild(n),n},button(t,e=!0){const n=document.createElement("button");return n.textContent=`[ ${t.toUpperCase()} ]`,Object.assign(n.style,{width:"90%",maxWidth:"350px",padding:"14px",margin:"10px auto",borderRadius:"0px",border:e?"1px solid #4ade80":"1px solid #334155",backgroundColor:e?"#4ade80":"transparent",color:e?"#0f172a":"#94a3b8",fontWeight:"bold",display:"block",cursor:"pointer",fontFamily:"'Courier New', monospace"}),n}}},k={value:""},S={value:""},$={value:""},M=async()=>{const t=u.ui._getRoot();t.innerHTML="";const e=await u.db.getAll(),n=e.reduce((r,s)=>r+(parseFloat(s.cost)||0),0);u.ui.ascii(ue),u.ui.text(`SYSTEM_TOTAL: $${n.toFixed(2)}`,"20px","#4ade80"),u.ui.input("NAME",$),u.ui.input("AMOUNT",S),u.ui.input("REASON",k);const o=u.ui.button("Commit to Database");o.onclick=async()=>{!$.value||!S.value||(await u.db.add({why:k.value,cost:S.value,who:$.value}),$.value="",S.value="",k.value="",u.native.vibrate(),M())},u.ui._getRoot().appendChild(o),u.ui.text("--- ACTIVE ENTRIES ---","12px","#64748b"),e.reverse().forEach(r=>{const s=u.ui.button(`${r.who}: $${r.cost} | ${r.why}`,!1);s.onclick=async()=>{confirm("DELETE FROM MEMORY?")&&(await u.db.remove(r.id),u.native.vibrate(),M())},u.ui._getRoot().appendChild(s)})};(async()=>(await u.db.init(),M()))();export{D as I,V as N,F as W};
